import React, { useState } from "react"; import { Card, CardContent } from "@/components/ui/card"; import { Input } from "@/components/ui/input"; import { Button } from "@/components/ui/button"; import { Table, TableHead, TableRow, TableCell, TableBody } from "@/components/ui/table"; import { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer } from "recharts";

export default function DataAnalysisDashboard() { const [data, setData] = useState([]); const [formData, setFormData] = useState({ country: "", capital: "", population: "" });

const addData = () => { if (!formData.country || !formData.capital || !formData.population) return; setData([...data, { ...formData, population: parseInt(formData.population) }]); setFormData({ country: "", capital: "", population: "" }); };

const movingAverage = (arr, n = 3) => { return arr.map((_, i) => { const slice = arr.slice(Math.max(0, i - n + 1), i + 1); const avg = slice.reduce((sum, item) => sum + item.population, 0) / slice.length; return { ...arr[i], avg }; }); };

const filteredData = movingAverage(data);

return ( <div className="min-h-screen bg-white text-black p-8 space-y-6"> <h1 className="text-3xl font-bold mb-6">Data & Mathematical Analysis Dashboard</h1> <Card className="bg-gray-100"> <CardContent className="p-4 grid grid-cols-3 gap-4"> <Input placeholder="Country" value={formData.country} onChange={e => setFormData({ ...formData, country: e.target.value })} className="bg-white" /> <Input placeholder="Capital" value={formData.capital} onChange={e => setFormData({ ...formData, capital: e.target.value })} className="bg-white" /> <Input placeholder="Population" type="number" value={formData.population} onChange={e => setFormData({ ...formData, population: e.target.value })} className="bg-white" /> <Button onClick={addData} className="col-span-3 bg-black text-white hover:bg-gray-800">Add Entry</Button> </CardContent> </Card>

<Card className="bg-off-white">
    <CardContent className="p-4">
      <h2 className="text-xl font-semibold mb-4">Raw Data Table</h2>
      <Table>
        <TableHead>
          <TableRow>
            <TableCell>Country</TableCell>
            <TableCell>Capital</TableCell>
            <TableCell>Population</TableCell>
            <TableCell>Moving Avg. (3)</TableCell>
          </TableRow>
        </TableHead>
        <TableBody>
          {filteredData.map((item, idx) => (
            <TableRow key={idx}>
              <TableCell>{item.country}</TableCell>
              <TableCell>{item.capital}</TableCell>
              <TableCell>{item.population.toLocaleString()}</TableCell>
              <TableCell>{item.avg.toFixed(2)}</TableCell>
            </TableRow>
          ))}
        </TableBody>
      </Table>
    </CardContent>
  </Card>

  <Card className="bg-gray-200">
    <CardContent className="p-4">
      <h2 className="text-xl font-semibold mb-4">Population Trend Visualization</h2>
      <ResponsiveContainer width="100%" height={300}>
        <LineChart data={filteredData}>
          <CartesianGrid strokeDasharray="3 3" />
          <XAxis dataKey="country" />
          <YAxis />
          <Tooltip />
          <Line type="monotone" dataKey="population" stroke="#000000" strokeWidth={2} />
          <Line type="monotone" dataKey="avg" stroke="#666666" strokeDasharray="5 5" />
        </LineChart>
      </ResponsiveContainer>
    </CardContent>
  </Card>
</div>

); }

              
